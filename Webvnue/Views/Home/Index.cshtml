@{
    ViewBag.Title = "Home Page";


    var referrer = (Webvnue.Models.MyIdentityUser)ViewData["Referrer"];
    var Token = (string)ViewData["Token"];



    var currentUser = (Webvnue.Models.MyIdentityUser)ViewData["CurrentUser"];
    var currentUserPosts = (IEnumerable<Webvnue.Models.Post>) ViewData["Posts"];
}
@model Webvnue.Models.Register
<script type="text/javascript" src="~/Scripts/webvnue-scripts.js"></script>

@if (currentUser == null)
{
    <head>
        <link href='https://fonts.googleapis.com/css?family=Oswald:400,700' rel='stylesheet' type='text/css'>
        <link href="/Content/Site.css" type="text/css" rel="stylesheet">
        <title>WEBVNUE</title>
    </head>
    using (Html.BeginForm("Index", "Home", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post))
    {
        @Html.AntiForgeryToken();


        <div class="mainpic">

            <div class="container">
                <div class="col-md-12">
                    <div class="row">
                        <div class="col-md-4">
                            <h1><span style="color:darkgrey">WEB</span><span style="color:cornflowerblue">VNUE</span></h1>
                        </div>
                        <div class="col-md-4 col-lg-offset-3">
                            <div class="oswald">SIGN UP TO MAKE MILLIONS TODAY...</div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-2 col-md-offset-7">
                            <div class="form-group">
                                @*<input type="text" name="FirstName" id="first_name" class="form-control input-lg" placeholder="First Name" tabindex="1">*@
                                @Html.TextBoxFor(m => m.FirstName, new { @class = "form-control input-lg", @placeholder = "First Name" })
                                @*@Html.ValidationMessage("FirstName", "", new { @class = "text-danger" })*@
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                @*<input type="text" name="LastName" id="last_name" class="form-control input-lg" placeholder="Last Name" tabindex="2">*@
                                @Html.TextBoxFor(m => m.LastName, new { @class = "form-control input-lg", @placeholder = "Last Name" })
                                @*@Html.ValidationMessage("LastName", "", new { @class = "text-danger" })*@
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group2">
                               <iframe width="560" height="315" src="https://www.youtube.com/embed/gvdf5n-zI14" frameborder="0" allowfullscreen></iframe>
                           </div>
                        </div>
                        <div class="col-md-4 col-md-offset-1">
                            <div class="form-group2">
                                @*<input type="text" name="UserName" id="display_name" class="form-control input-lg" placeholder="Username" tabindex="3">*@
                                @Html.TextBoxFor(m => m.UserName, new { @class = "form-control input-lg", @placeholder = "Username" })
                                @*@Html.ValidationMessage("UserName", "", new { @class = "text-danger" })*@
                            </div>
                        </div>
                        <div class="col-md-4 col-md-offset-1">
                            <div class="form-group2">
                                @*<input type="email" name="Email" id="email" class="form-control input-lg" placeholder="Email Address" tabindex="4">*@
                                @Html.TextBoxFor(m => m.Email, new { @class = "form-control input-lg", @placeholder = "Email Address" })
                                @*@Html.ValidationMessage("Email", "", new { @class = "text-danger" })*@
                            </div>
                        </div>

                        <div class="col-md-4 col-md-offset-1">
                            <div class="form-group2">
                                @*<input type="text" name="BirthDate" id="email" class="form-control input-lg" placeholder="Date of Birth" tabindex="4">*@
                                @Html.TextBoxFor(m => m.BirthDate, new { @class = "form-control input-lg", @placeholder = "Date of Birth" })
                                @*@Html.ValidationMessage("BirthDate", "", new { @class = "text-danger" })*@
                            </div>
                        </div>




                        <div class="col-md-2 col-md-offset-1">
                            <div class="form-group">
                                @*<input type="password" name="Password" id="password" class="form-control input-lg" placeholder="Password" tabindex="5">*@
                                @Html.TextBoxFor(m => m.Password, new { @class = "form-control input-lg", @placeholder = "Password", @type = "password" })
                                @*@Html.ValidationMessage("Password", "", new { @class = "text-danger" })*@
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                @*<input type="password" name="ConfirmPassword" id="password_confirmation" class="form-control input-lg" placeholder="Confirm Password" tabindex="6">*@
                                @Html.TextBoxFor(m => m.ConfirmPassword, new { @class = "form-control input-lg", @placeholder = "Confirm Password", @type = "password" })
                                @*@Html.ValidationMessage("ConfirmPassword", "", new { @class = "text-danger" })*@
                            </div>
                        </div>


                        <div class="col-md-4 col-md-offset-1">
                            <div class="tnc">
                                By clicking <strong class="label label-primary">Register</strong>, you agree to the <a href="#" data-toggle="modal" data-target="#t_and_c_m">Terms and Conditions</a>.
                            </div>
                        </div>


                        <div class="col-md-4 col-md-offset-1"><input type="submit" value="Register" class="btn btn-primary btn-block btn-lg" tabindex="7"></div>
                    </div>

                    @if (referrer != null)
                    {
                        <input type="hidden" value="@referrer.Id" name="Token" />
                    }
                    else if (Token != null)
                    {
                        <input type="hidden" value="@Token" name="Token" />
                    }

                    <!-- Modal -->
                    <div class="modal fade" id="t_and_c_m" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                    <h4 class="modal-title" id="myModalLabel">Terms & Conditions</h4>
                                </div>
                                <div class="modal-body">
                                    <p>STEAL MY SHIT AND YOU DIE MOTHER FUCKER.</p>
                                </div>
                            </div><!-- /.modal-content -->
                        </div><!-- /.modal-dialog -->
                    </div><!-- /.modal -->


                </div>
                <br />
                <br />
                <br />
                <br />
                <br />
                <br />
                <br />
                <br />

            </div>
        </div>

    }

    @*
        <div class="sharpangle">
            <div class="container">
            <h2>How it works...</h2>
            <p>
                Welcome to Webvnue, I want to keep this short and sweet so i dont lose what little
                fucking retarded attention span you have. If you wanna make money,
                click sign up and register for this website. Then have your friends sign up aswell. Boom you made a million dollars. GG EZ faggot
            </p>
            </div>
        </div>
        <div class="video-sexy">

            <iframe width="900" height="450" src="https://www.youtube.com/embed/n8bCcSi2V4g?autoplay=0" frameborder="0" allowfullscreen></iframe>
        </div>
    *@
}
else
{
    Layout = "~/Views/Shared/_LayoutHome.cshtml";

    <div class="mainbody container-fluid">
        <div class="row">
            <div style="padding-top:10px;"> </div>

            <div class="col-md-3">
                <div class="panel panel-default" data-spy="affix">
                    <div class="panel-body">
                        <div class="media">
                            <div align="center">
                                <div class="profilename"> @currentUser.FirstName @currentUser.LastName </div>
                                <img class="img-thumbnail img-responsive" src="/Home/profileimg/@currentUser.Id" width="230" height="230" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>








            <div class="col-md-6">
                <div id="exTab1" class="container">
                    <div class="col-md-12">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                <ul class="nav nav-pills">
                                    <li class="active pull-left">
                                        <a href="#1a" data-toggle="tab">POST PHOTO</a>
                                    </li>
                                    <li class="pull-left">
                                        <a href="#2a" data-toggle="tab">CREATE MEME</a>
                                    </li>
                                </ul>
                                <hr />

                                <div class="tab-content clearfix">
                                    <div class="tab-pane active" id="1a">
                                        <div align="center">
                                            <button class="btn btn-default"><img class="img-rounded img-responsive" id="addImgButton" src="~/Images/Add-icon.png" width="50" height="50" /></button>
                                            <br />
                                            <span class="text-center"><b>Click here to share photo's with friends!</b></span>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="2a">
                                        <div align="center">
                                            <div class="container">
                                                <label class="btn-upload">
                                                    <input type="file" name="file" id="file">
                                                    <button class="btn">Browse Photos</button>
                                                </label>
                                                <br />
                                                <span class="text-center">
                                                    OR
                                                </span>
                                                <br />
                                                <span class="text-center">Choose Background Color</span>
                                                <div class="text-center">
                                                    <br />
                                                    <span class="glyphicon glyphicon-tint" style="color:black;font-size:20px;"></span>
                                                    <span class="glyphicon glyphicon-tint" style="color:red;font-size:20px;"></span>
                                                    <span class="glyphicon glyphicon-tint" style="color:cornflowerblue;font-size:20px;"></span>
                                                    <span class="glyphicon glyphicon-tint" style="color:pink;font-size:20px;"></span>
                                                    <span class="glyphicon glyphicon-tint" style="color:purple;font-size:20px;"></span>
                                                    <span class="glyphicon glyphicon-tint" style="color:yellow;font-size:20px;"></span>


                                                </div>
                                                <br />
                                            </div>
                                            <div id="image-container">
                                                <canvas width="400" height="400"></canvas>
                                                <div class="inputs">
                                                    <br />
                                                    <br />
                                                </div>
                                            </div>
                                            <br />
                                            <input id="topLineText" type="text" placeholder="Enter text here">
                                            <button class="btn btn-primary text-center" id="saveBtn">Post</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>




                @foreach (var post in currentUserPosts)
                {
                    <div class="col-md-12">
                        <br />
                        <br />
                        <div class="panel panel-default">
                            <div class="panel-body">
                                <span class="pull-left">
                                    <img class="img-circle" src="/Home/profileimg/@post.OriginalPostUserId" width="50" height="50" />

                                    <a href="~/@post.OriginalPostUser.UserName" class="btn btn-link" style="text-decoration:none;">@post.OriginalPostUser.FirstName @post.OriginalPostUser.LastName</a>

                                </span>
                            </div>
                            <div class="panel-body">
                                <div class="navbar-right" style="position:absolute;top:45px;right:20px">
                                    <div class="dropdown">
                                        <button class="btn btn-default btn-sm dropdown-toggle" type="button" id="dd2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                            <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu" aria-labelledby="dd2" style="float: right;">
                                            <li><a href="#"><span class="glyphicon glyphicon-ban-circle"></span> Hide Post</a></li>
                                        </ul>
                                    </div>
                                </div>




                                <div class="img-responsive img-thumbnail ratio-4-3" data-toggle="modal" onMouseOver="this.style.cursor='pointer'" data-target="" style="background-image:url('/Home/showPostImage/@post.Id')">
                                </div>


                                <div class="panel-body">
                                    <button class="btn btn-default glyphicon glyphicon-heart">Like</button>
                                    <button class="btn btn-default glyphicon glyphicon-retweet">Share</button>
                                    <button class="btn btn-default glyphicon glyphicon-comment"></button>

                                </div>


                            </div>
                            <div class="panel-body">
                                <div class="commentDiv">
                                    <ul>
                                    @foreach (var comment in post.Comments)
                                    {
                                            <li>
                                                <img class="img-circle" src="/Home/profileimg/@comment.OriginalUser.Id" width="15" height="15" />
                                                <a href="~/@comment.OriginalUser.UserName"><b>@comment.OriginalUser.FirstName @comment.OriginalUser.LastName</b></a> : @comment.Message<span class="pull-right"><small>1:29pm</small></span>
                                            </li>
                                    }
                                    </ul>
                                    <div class="input-group">
                                        <input type="text" id="user-comment" class="form-control input-sm chat-input" placeholder="Write your message here..." />
                                        <span class="input-group-btn" onclick="addComment()">
                                            <button class="btn btn-primary btn-sm" id="add-comment" user-id="@currentUser.Id" post-id="@post.Id"><span class="glyphicon glyphicon-comment"></span> Add Comment</button>


                                            <!--<a href="#" class="btn btn-primary btn-sm"><span class="glyphicon glyphicon-comment"></span> Add Comment</a>-->
                                        </span>
                                    </div>
                                    </div>
                            </div>
                        </div>
                    </div>


                }




            </div>
            <div class="col-md-3">
            <div class="panel panel-default" data-spy="affix">
                <div class="panel-body">
                    <div class="media">
                        <span class="text-center"><b>Recent Activity</b></span>
                        <hr />
                        <div class="pull-left">
                            <a href="#">Ken Hoac</a> is now following you!
                            <br />
                            <br />
                            <a href="#">Andy Tran</a> signed up under your refferal!
                            <br />
                            <br />
                            <a href="#">Ken Hoac</a> is now streaming live on <b>twitch.tv</b>
                            <br />
                            Watch his stream live at <a href="#">twitch.tv/iEatManAss</a>
                            <br />
                        </div>                        
                        <div class="text-center"><a href="#">See more</a></div>
                    </div>
                </div>
            </div>
           </div>








           </div>
         </div>


}
